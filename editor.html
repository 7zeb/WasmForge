<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>WasmForge</title>
  <link rel="stylesheet" href="./style.css">
  <link rel="apple-touch-icon" href="./core/assets/icons/logo.png">
  <meta name="theme-color" content="#1a1a2e">
</head>

<body>

  <!-- TOP MENU BAR -->
  <div id="top-menu">
    <div class="menu-left">
      <span id="app-logo">âš¡</span>
      <span id="app-title">WasmForge</span>
      <div class="menu-items">
        <button id="file-button">File</button>
        <button id="edit-button">Edit</button>
        <button id="view-button">View</button>
        <button id="help-button">Help</button>
      </div>
    </div>

    <div class="menu-center">
      <input type="text" id="project-title-input" value="Untitled Project" spellcheck="false">
    </div>

    <div class="menu-right">
      <button id="dark-mode-toggle" title="Toggle Theme">
        <span class="icon">ğŸŒ™</span>
      </button>
      <button id="settings-btn" title="Settings">
        <span class="icon">âš™ï¸</span>
      </button>
    </div>
  </div>

  <!-- Hidden file inputs -->
  <input type="file" id="load-file-input" accept=".wasmforge,.json" hidden>
  <input type="file" id="file-input" multiple accept="video/*,audio/*,image/*" hidden>

  <!-- MAIN EDITOR LAYOUT -->
  <div id="editor">

    <!-- LEFT PANEL: Media Browser -->
    <aside id="media-panel">
      <div class="panel-header">
        <div class="panel-tabs">
          <button class="panel-tab active" data-tab="media">Media</button>
          <button class="panel-tab" data-tab="effects">Effects</button>
          <button class="panel-tab" data-tab="audio">Audio</button>
        </div>
      </div>
      
      <div class="panel-content">
        <div id="media-tab" class="tab-content active">
          <div id="import-area">
            <label id="file-picker-label">
              <span class="import-icon">ğŸ“</span>
              <span class="import-text">Import Media</span>
              <span class="import-hint">or drag & drop files here</span>
            </label>
          </div>
          <div id="media-list"></div>
        </div>
        
        <div id="effects-tab" class="tab-content">
          <div class="effects-grid">
            <div class="effect-item" data-effect="fade-in">Fade In</div>
            <div class="effect-item" data-effect="fade-out">Fade Out</div>
            <div class="effect-item" data-effect="blur">Blur</div>
            <div class="effect-item" data-effect="sharpen">Sharpen</div>
            <div class="effect-item" data-effect="grayscale">Grayscale</div>
            <div class="effect-item" data-effect="sepia">Sepia</div>
          </div>
        </div>
        
        <div id="audio-tab" class="tab-content">
          <p class="placeholder-text">Audio mixer coming soon</p>
        </div>
      </div>
    </aside>

    <!-- CENTER: Preview Monitor -->
    <main id="preview-section">
      <div class="panel-header">
        <span class="panel-title">Preview</span>
        <div class="preview-controls-top">
          <select id="aspect-select" title="Aspect Ratio">
            <option value="16:9">16:9</option>
            <option value="9:16">9:16</option>
            <option value="1:1">1:1</option>
            <option value="4:5">4:5</option>
            <option value="21:9">21:9</option>
          </select>
          <select id="quality-select" title="Preview Quality">
            <option value="full">Full</option>
            <option value="half" selected>1/2</option>
            <option value="quarter">1/4</option>
          </select>
        </div>
      </div>
      
      <div id="preview-wrapper">
        <div id="preview-container">
          <div id="preview-frame">
            <video id="preview-video"></video>
            <div id="preview-placeholder">
              <span class="placeholder-icon">ğŸ¬</span>
              <span>Import media to get started</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Transport Controls -->
      <div id="transport-controls">
        <div class="transport-left">
          <span id="current-time">00:00:00:00</span>
        </div>
        
        <div class="transport-center">
          <button id="btn-start" title="Go to Start">â®</button>
          <button id="btn-prev-frame" title="Previous Frame">âª</button>
          <button id="btn-play" title="Play/Pause">â–¶</button>
          <button id="btn-next-frame" title="Next Frame">â©</button>
          <button id="btn-end" title="Go to End">â­</button>
        </div>
        
        <div class="transport-right">
          <span id="total-time">00:00:00:00</span>
        </div>
      </div>
    </main>

    <!-- RIGHT PANEL: Inspector -->
    <aside id="inspector-panel">
      <div class="panel-header">
        <div class="panel-tabs">
          <button class="panel-tab active" data-tab="inspector">Inspector</button>
          <button class="panel-tab" data-tab="color">Color</button>
        </div>
      </div>
      
      <div class="panel-content">
        <div id="inspector-tab" class="tab-content active">
          <div id="no-selection" class="inspector-placeholder">
            <span class="placeholder-icon">ğŸ“‹</span>
            <span>Select a clip to view properties</span>
          </div>
          
          <div id="clip-properties" style="display: none;">
            <div class="property-group">
              <div class="property-group-header">Transform</div>
              <div class="property-row">
                <label>Position X</label>
                <input type="number" id="prop-pos-x" value="0">
              </div>
              <div class="property-row">
                <label>Position Y</label>
                <input type="number" id="prop-pos-y" value="0">
              </div>
              <div class="property-row">
                <label>Scale</label>
                <input type="range" id="prop-scale" min="10" max="200" value="100">
                <span class="range-value">100%</span>
              </div>
              <div class="property-row">
                <label>Rotation</label>
                <input type="number" id="prop-rotation" value="0">
                <span class="unit">Â°</span>
              </div>
            </div>
            
            <div class="property-group">
              <div class="property-group-header">Opacity</div>
              <div class="property-row">
                <input type="range" id="prop-opacity" min="0" max="100" value="100">
                <span class="range-value">100%</span>
              </div>
            </div>
            
            <div class="property-group">
              <div class="property-group-header">Speed</div>
              <div class="property-row">
                <input type="range" id="prop-speed" min="25" max="400" value="100">
                <span class="range-value">1.0x</span>
              </div>
            </div>
          </div>
        </div>
        
        <div id="color-tab" class="tab-content">
          <div class="property-group">
            <div class="property-group-header">Color Correction</div>
            <div class="property-row">
              <label>Exposure</label>
              <input type="range" id="color-exposure" min="-100" max="100" value="0">
            </div>
            <div class="property-row">
              <label>Contrast</label>
              <input type="range" id="color-contrast" min="-100" max="100" value="0">
            </div>
            <div class="property-row">
              <label>Saturation</label>
              <input type="range" id="color-saturation" min="-100" max="100" value="0">
            </div>
            <div class="property-row">
              <label>Temperature</label>
              <input type="range" id="color-temperature" min="-100" max="100" value="0">
            </div>
          </div>
        </div>
      </div>
    </aside>

  </div>

  <!-- TIMELINE SECTION -->
  <div id="timeline-section">
    
    <!-- Timeline Toolbar -->
    <div id="timeline-toolbar">
      <div class="toolbar-left">
        <button id="tool-select" class="tool-btn active" title="Select Tool (V)">
          <span>â†–</span>
        </button>
        <button id="tool-razor" class="tool-btn" title="Razor Tool (C)">
          <span>âœ‚</span>
        </button>
        <button id="tool-hand" class="tool-btn" title="Hand Tool (H)">
          <span>âœ‹</span>
        </button>
        <div class="toolbar-divider"></div>
        <button id="btn-undo" title="Undo (Ctrl+Z)">â†©</button>
        <button id="btn-redo" title="Redo (Ctrl+Y)">â†ª</button>
      </div>
      
      <div class="toolbar-center">
        <button id="btn-snap" class="toggle-btn active" title="Snapping">ğŸ§² Snap</button>
        <button id="btn-ripple" class="toggle-btn" title="Ripple Edit">ğŸ”— Ripple</button>
      </div>
      
      <div class="toolbar-right">
        <button id="btn-zoom-out" title="Zoom Out">âˆ’</button>
        <input type="range" id="timeline-zoom" min="10" max="200" value="100">
        <button id="btn-zoom-in" title="Zoom In">+</button>
        <span id="zoom-level">100%</span>
      </div>
    </div>

    <!-- Timeline Tracks Area -->
    <div id="timeline-wrapper">
      
      <!-- Track Headers -->
      <div id="track-headers">
        <div class="track-header" data-track="video-2">
          <span class="track-icon">ğŸ¬</span>
          <span class="track-name">Video 2</span>
          <div class="track-controls">
            <button class="track-btn" title="Toggle Visibility">ğŸ‘</button>
            <button class="track-btn" title="Lock Track">ğŸ”“</button>
          </div>
        </div>
        <div class="track-header" data-track="video-1">
          <span class="track-icon">ğŸ¬</span>
          <span class="track-name">Video 1</span>
          <div class="track-controls">
            <button class="track-btn" title="Toggle Visibility">ğŸ‘</button>
            <button class="track-btn" title="Lock Track">ğŸ”“</button>
          </div>
        </div>
        <div class="track-header" data-track="audio-1">
          <span class="track-icon">ğŸ”Š</span>
          <span class="track-name">Audio 1</span>
          <div class="track-controls">
            <button class="track-btn" title="Mute">ğŸ”Š</button>
            <button class="track-btn" title="Solo">S</button>
          </div>
        </div>
        <div class="track-header" data-track="audio-2">
          <span class="track-icon">ğŸµ</span>
          <span class="track-name">Audio 2</span>
          <div class="track-controls">
            <button class="track-btn" title="Mute">ğŸ”Š</button>
            <button class="track-btn" title="Solo">S</button>
          </div>
        </div>
      </div>

      <!-- Timeline Content -->
      <div id="timeline-area">
        <!-- Time Ruler -->
        <div id="time-ruler">
          <canvas id="ruler-canvas"></canvas>
        </div>
        
        <!-- Playhead -->
        <div id="playhead">
          <div id="playhead-handle"></div>
          <div id="playhead-line"></div>
        </div>
        
        <!-- Tracks -->
        <div id="tracks-container">
          <div class="track" data-track="video-2" data-type="video"></div>
          <div class="track" data-track="video-1" data-type="video"></div>
          <div class="track" data-track="audio-1" data-type="audio"></div>
          <div class="track" data-track="audio-2" data-type="audio"></div>
        </div>
      </div>
      
    </div>
  </div>

  <!-- Dropdown Menus -->
  <div id="file-menu" class="dropdown-menu" style="display: none;">
    <button data-action="new"><span class="menu-icon">ğŸ“„</span> New Project <span class="shortcut">Ctrl+N</span></button>
    <button data-action="open"><span class="menu-icon">ğŸ“‚</span> Open Project <span class="shortcut">Ctrl+O</span></button>
    <button data-action="save"><span class="menu-icon">ğŸ’¾</span> Save Project <span class="shortcut">Ctrl+S</span></button>
    <button data-action="save-as"><span class="menu-icon">ğŸ“</span> Save As... <span class="shortcut">Ctrl+Shift+S</span></button>
    <div class="menu-divider"></div>
    <button data-action="import"><span class="menu-icon">ğŸ“¥</span> Import Media <span class="shortcut">Ctrl+I</span></button>
    <button data-action="export"><span class="menu-icon">ğŸ“¤</span> Export Video <span class="shortcut">Ctrl+E</span></button>
    <div class="menu-divider"></div>
    <button data-action="home"><span class="menu-icon">ğŸ </span> Back to Home</button>
  </div>

  <div id="edit-menu" class="dropdown-menu" style="display: none;">
    <button data-action="undo"><span class="menu-icon">â†©</span> Undo <span class="shortcut">Ctrl+Z</span></button>
    <button data-action="redo"><span class="menu-icon">â†ª</span> Redo <span class="shortcut">Ctrl+Y</span></button>
    <div class="menu-divider"></div>
    <button data-action="cut"><span class="menu-icon">âœ‚</span> Cut <span class="shortcut">Ctrl+X</span></button>
    <button data-action="copy"><span class="menu-icon">ğŸ“‹</span> Copy <span class="shortcut">Ctrl+C</span></button>
    <button data-action="paste"><span class="menu-icon">ğŸ“Œ</span> Paste <span class="shortcut">Ctrl+V</span></button>
    <button data-action="delete"><span class="menu-icon">ğŸ—‘</span> Delete <span class="shortcut">Del</span></button>
    <div class="menu-divider"></div>
    <button data-action="select-all"><span class="menu-icon">â˜‘</span> Select All <span class="shortcut">Ctrl+A</span></button>
  </div>

  <script type="module" src="./main.js"></script>
</body>
</html>
